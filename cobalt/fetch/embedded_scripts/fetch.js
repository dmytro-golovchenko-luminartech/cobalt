'use strict';(function(c){function F(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new g("Invalid character in header field name");return a.toLowerCase()}function R(a){"string"!==typeof a&&(a=String(a));var b;var d=0;for(b=a.length;d<b;d++){var e=a.charCodeAt(d);if(9!==e&&10!==e&&13!==e&&32!==e)break}for(b=a.length-1;b>d&&(e=a.charCodeAt(b),9===e||10===e||13===e||32===e);b--);a=a.substring(d,b+1);d=0;for(b=a.length;d<b;d++)if(e=a.charCodeAt(d),256<=e||0===e||
10===e||13===e)throw new g("Invalid character in header field value");return a}function X(a,b){throw new g("Immutable header cannot be modified");}function Y(a,b){return!1}function Z(a,b){a=a.toLowerCase();return-1<aa.indexOf(a)||a.startsWith("proxy-")||a.startsWith("sec-")?!0:!1}function ba(a,b){a=a.toLowerCase();return-1<ca.indexOf(a)||"content-type"===a&&(b=b.split(";")[0].toLowerCase(),-1<da.indexOf(b))?!1:!0}function N(a,b){return-1<ea.indexOf(a.toLowerCase())?!0:!1}function h(a){this[l]=new J;
void 0===this[x]&&(this[x]=Y);if(void 0!==a){if(null===a||"object"!==typeof a)throw new g("Constructing Headers with invalid parameters");a instanceof h?a.forEach(function(a,d){this.append(d,a)},this):G.isArray(a)?a.forEach(function(a){if(2!==a.length)throw new g("Constructing Headers with invalid parameters");this.append(a[0],a[1])},this):Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}}function H(a,b){var d=fa(h.prototype);d[x]=b;h.call(d,a);return d}function O(a){if(a.bodyUsed)return t.reject(new g("Body was already read"));
if(null===a.body)return t.resolve(new q(0));if(ha(a.body))return t.reject(new g("ReadableStream was already locked"));var b=a.body.getReader(),d=[],e=0;return b.read().then(function ia(a){if(a.done){if(0===d.length)a=new q(0);else if(1===d.length)a=new q(d[0].buffer);else{a=new q(e);for(var k=0,c=d.length,f=0;k<c;k++)a.set(d[k],f),f+=d[k].length}return a}return a.value instanceof q?(e+=a.value.length,d.push(a.value),b.read().then(ia)):t.reject(new g("Invalid stream data type"))})}function S(){this._initBody=
function(a){this[P]=!1;this[m]=null===a||void 0===a?null:a instanceof Q?a:new Q({start:function(b){if(a)if("string"===typeof a)b.enqueue(FetchInternal.encodeToUTF8(a));else if(T.prototype.isPrototypeOf(a))b.enqueue(new q(a.slice(0)));else if(ja(a))b.enqueue(new q(a.buffer.slice(0)));else if(a instanceof Blob)b.enqueue(new q(FetchInternal.blobToArrayBuffer(a)));else throw new g("Unsupported BodyInit type");b.close()}});this[r].get("content-type")||("string"===typeof a?this[r].set("content-type","text/plain;charset=UTF-8"):
a instanceof Blob&&""!==a.type&&this[r].set("content-type",a.type))};K(this,{body:{get:function(){return this[m]}},bodyUsed:{get:function(){return this[P]?!0:this[m]?!!ka(this[m]):!1}}});this.arrayBuffer=function(){return this[B]?t.reject(new w):O(this).then(function(a){return a.buffer})};this.text=function(){return this[B]?t.reject(new w):O(this).then(function(a){return FetchInternal.decodeFromUTF8(a)})};this.json=function(){return this[B]?t.reject(new w):this.text().then(JSON.parse)};return this}
function y(a,b){var d=void 0!==b&&null!==b&&void 0===b.cloneBody;b=b||{};var e=b.body||b.cloneBody,c=b.headers,f=new AbortController;this[u]=f.signal;f=null;if(a instanceof y)this[z]=a.url,this[C]=a.cache,this[D]=a.credentials,void 0===c&&(c=a.headers),this[E]=a.integrity,this[A]=a.method,this[n]=a.mode,d&&"navigate"===this[n]&&(this[n]="same-origin"),this[I]=a.redirect,e||null===a.body||(e=a.body,a[P]=!0),f=a[u];else{this[z]=String(a);if(!FetchInternal.isUrlValid(this[z],!1))throw new g("Invalid request URL");
this[n]="cors";this[D]="same-origin"}if(void 0!==b.window&&null!==b.window)throw new g("Invalid request window");this[C]=b.cache||this[C]||"default";if(-1===la.indexOf(this[C]))throw new g("Invalid request cache mode");this[D]=b.credentials||this[D]||"same-origin";if(-1===ma.indexOf(this[D]))throw new g("Invalid request credentials");void 0!==b.integrity?this[E]=b.integrity:void 0===this[E]&&(this[E]="");a=(b.method||this[A]||"GET").toUpperCase();if(-1===na.indexOf(a))throw new g("Invalid request method");
this[A]=a;if(b.mode&&-1===oa.indexOf(b.mode))throw new g("Invalid request mode");this[n]=b.mode||this[n]||"no-cors";if("no-cors"===this[n]){if(-1===pa.indexOf(this[A]))throw new g("Invalid request method for no-cors");if(""!==this[E])throw new g("Request integrity data is not allowed with no-cors");}if("same-origin"!==this[n]&&"only-if-cached"===this[C])throw new g("Request mode must be same-origin for only-if-cached");this[I]=b.redirect||this[I]||"follow";if(-1===qa.indexOf(this[I]))throw new g("Invalid request redirect mode");
this[r]="no-cors"===this[n]?H(c,ba):H(c,Z);if(("GET"===this[A]||"HEAD"===this[A])&&e)throw new g("Request body is not allowed for GET or HEAD");"signal"in b&&(f=b.signal);f&&this[u].follow(f);this._initBody(e)}function ra(a,b){var d=H(void 0,b);a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var b=a.split(":");if(a=b.shift().trim())b=b.join(":").trim(),d.append(a,b)});return d}function v(a,b){b||(b={});this[L]="default";this[p]="status"in b?b.status:200;if(200>this[p]||599<this[p])throw new U("Invalid response status");
this[V]=200<=this[p]&&300>this[p];if("statusText"in b){var d=b.statusText;for(var e=0,f=d.length,c;e<f;e++)if(c=d.charCodeAt(e),9!==c&&(32>c||255<c||127===c))throw g("Invalid response status text");}else d="OK";this[M]=d;this[r]=H(b.headers,N);this[z]=b.url||"";if(a&&-1<sa.indexOf(this[p]))throw new g("Response body is not allowed with a null body status");this[B]=b.is_aborted||!1;this._initBody(a)}if(!c.fetch){var G=c.Array,T=c.ArrayBuffer,fa=c.Object.create,K=c.Object.defineProperties,ta=c.Object.defineProperty,
f=c.Symbol,ua=f.iterator,J=c.Map,U=c.RangeError,g=c.TypeError,q=c.Uint8Array,t=c.Promise,Q=c.ReadableStream,W=c.ReadableStreamTee,ka=c.IsReadableStreamDisturbed,ha=c.IsReadableStreamLocked,m=f("body"),P=f("bodyUsed"),C=f("cache"),D=f("credentials"),x=f("guardCallback"),r=f("headers"),E=f("integrity"),l=f("map"),A=f("method"),n=f("mode"),V=f("ok"),I=f("redirect"),p=f("status"),M=f("statusText"),L=f("type"),z=f("url"),B=f("is_aborted"),u=f("signal"),aa="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 date dnt expect host keep-alive origin referer te trailer transfer-encoding upgrade via".split(" "),
ea=["set-cookie","set-cookie2"],ca=["accept","accept-language","content-language"],da=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],la="default no-store reload no-cache force-cache only-if-cached".split(" "),ma=["omit","same-origin","include"],na="DELETE GET HEAD OPTIONS POST PUT".split(" "),pa=["GET","HEAD","POST"],oa=["same-origin","no-cors","cors"],qa=["follow","error","manual"],sa=[101,204,205,304],va=[301,302,303,307,308],wa="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),
ja=T.isView||function(a){return a&&-1<wa.indexOf(Object.prototype.toString.call(a))},w=function(){K(this,{message:{value:"Aborted",writable:!1},name:{value:"AbortError",writable:!1},code:{value:20,writable:!1}})};w.prototype.constructor=w;h.prototype.append=function(a,b){if(2!==arguments.length)throw g("Invalid parameters to append");a=F(a);b=R(b);this[x](a,b)||(this[l].has(a)?this[l].set(a,this[l].get(a)+", "+b):this[l].set(a,b))};h.prototype["delete"]=function(a){if(1!==arguments.length)throw g("Invalid parameters to delete");
this[x](a,"invalid")||this[l].delete(F(a))};h.prototype.get=function(a){if(1!==arguments.length)throw g("Invalid parameters to get");a=F(a);var b=this[l].get(a);return void 0!==b?b:null};h.prototype.has=function(a){if(1!==arguments.length)throw g("Invalid parameters to has");return this[l].has(F(a))};h.prototype.set=function(a,b){if(2!==arguments.length)throw g("Invalid parameters to set");a=F(a);b=R(b);this[x](a,b)||this[l].set(a,b)};h.prototype.forEach=function(a,b){var d=this;G.from(this[l].entries()).sort().forEach(function(e){a.call(b,
e[1],e[0],d)})};h.prototype.keys=function(){return(new J(G.from(this[l].entries()).sort())).keys()};h.prototype.values=function(){return(new J(G.from(this[l].entries()).sort())).values()};h.prototype.entries=function(){return(new J(G.from(this[l].entries()).sort())).entries()};h.prototype[ua]=h.prototype.entries;y.prototype.clone=function(){var a=null;null!==this[m]&&(a=W(this[m],!0),this[m]=a[0],a=a[1]);return new y(this,{cloneBody:a,signal:this[u]})};K(y.prototype,{cache:{get:function(){return this[C]}},
credentials:{get:function(){return this[D]}},headers:{get:function(){return this[r]}},integrity:{get:function(){return this[E]}},method:{get:function(){return this[A]}},mode:{get:function(){return this[n]}},redirect:{get:function(){return this[I]}},url:{get:function(){return this[z]}},signal:{get:function(){return this[u]}}});S.call(y.prototype);S.call(v.prototype);v.prototype.clone=function(){var a=null;null!==this[m]&&(a=W(this[m],!0),this[m]=a[0],a=a[1]);return new v(a,{status:this[p],statusText:this[M],
headers:H(this[r],N),url:this[z],is_aborted:this[B]})};K(v.prototype,{headers:{get:function(){return this[r]}},ok:{get:function(){return this[V]}},status:{get:function(){return this[p]}},statusText:{get:function(){return this[M]}},type:{get:function(){return this[L]}},url:{get:function(){return this[z]}}});v.error=function(){var a=new v(null);a[r][x]=X;a[L]="error";a[p]=0;a[M]="";return a};v.redirect=function(a,b){if(!FetchInternal.isUrlValid(a,!0))throw new g("Invalid URL for response redirect");
void 0===b&&(b=302);if(-1===va.indexOf(b))throw new U("Invalid status code for response redirect");return new v(null,{status:b,headers:{location:a}})};c.Headers=h;c.Request=y;c.Response=v;c.fetch=function(a,b){return new t(function(d,e){var c=!1,f=!1,h=new y(a,b),k=new XMLHttpRequest,l=null;if(h.signal.aborted)return e(new w);var m=new Q({start:function(a){l=a},cancel:function(a){c=!0;k.abort()}}),n=function(){if(!c){c=!0;m.cancel();if(l)try{l.close()}catch(xa){}setTimeout(function(){try{k.abort()}catch(xa){}},
0)}},r=m.getReader;m.getReader=function(){var a=r.bind(this).call(),b=a.read,c=a.closed;a.read=function(){return h[u]&&h[u].aborted?(n(),t.reject(new w)):b.bind(this).call()};ta(a,"closed",{get:function(){return h[u]&&h[u].aborted?(n(),t.reject(new w)):c}});return a};k.onload=function(){l.close()};k.onreadystatechange=function(){if(k.readyState===k.HEADERS_RECEIVED){var a={status:k.status,statusText:k.statusText,headers:ra(k.getAllResponseHeaders()||"",N)};a.url="responseURL"in k?k.responseURL:a.headers.get("X-Request-URL");
try{var b=new v(m,a);h[u].addEventListener("abort",function(){b[B]=!0;n();e(new w)});b[L]=f?"cors":"basic";d(b)}catch(ya){e(ya)}}};k.onerror=function(){l.error(new g("Network request failed"));e(new g("Network request failed"))};k.ontimeout=function(){l.error(new g("Network request failed"));e(new g("Network request failed"))};k.open(h.method,h.url,!0);"include"===h.credentials&&(k.withCredentials=!0);h.headers.forEach(function(a,b){k.setRequestHeader(b,a)});var p=function(a){c||l.enqueue(a)},q=function(a){f=
a};null===h.body?k.fetch(p,q,null):O(h).then(function(a){k.fetch(p,q,a)})})};c.fetch.polyfill=!0}})(this);