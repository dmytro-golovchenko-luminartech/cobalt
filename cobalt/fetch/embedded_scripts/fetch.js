'use strict';(function(e){function l(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new g("Invalid character in header field name");return a.toLowerCase()}function v(a){"string"!==typeof a&&(a=String(a));var b;var c=0;for(b=a.length;c<b;c++){var f=a.charCodeAt(c);if(9!==f&&10!==f&&13!==f&&32!==f)break}for(b=a.length-1;b>c&&(f=a.charCodeAt(b),9===f||10===f||13===f||32===f);b--);a=a.substring(c,b+1);c=0;for(b=a.length;c<b;c++)if(f=a.charCodeAt(c),256<=f||0===f||
10===f||13===f)throw new g("Invalid character in header field value");return a}function d(a){this.map=new p;if(void 0!==a){if(null===a||"object"!==typeof a)throw new g("Constructing Headers with invalid parameters");a instanceof d?a.forEach(function(a,c){this.append(c,a)},this):n.isArray(a)?a.forEach(function(a){if(2!==a.length)throw new g("Constructing Headers with invalid parameters");this.append(a[0],a[1])},this):Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}}function q(a){if(a.bodyUsed)return r(new g("Body already read"));
if(null===a.body)return A(new h(0));if(B(a.body))return r(new g("ReadableStream already locked"));var b=a.body.getReader(),c=[],f=0;return b.read().then(function C(a){if(a.done){if(0===c.length)a=new h(0);else if(1===c.length)a=new h(c[0]);else{a=new h(f);for(var e=0,d=c.length,k=0;e<d;e++)a.set(c[e],k),k+=c[e].length}return a}return a.value instanceof h?(f+=a.value.length,c.push(a.value),b.read().then(C)):r(new g("Invalid stream read value type"))})}function D(a){a=unescape(encodeURIComponent(a));
for(var b=new h(a.length),c=0,f=a.length;c<f;c++)b[c]=a.charCodeAt(c);return b}function w(a,b,c){if(b)if("string"===typeof b)a.enqueue(D(b));else if(x.prototype.isPrototypeOf(b))a.enqueue(new h(b));else if(E(b))a.enqueue(new h(b.buffer));else throw new g(c);}function y(){this._initBody=function(a){this._bodyUsed=!1;this.body=null===a||void 0===a?null:a instanceof t?a:new t({start:function(b){w(b,a,"Unsupported BodyInit type");b.close()}});this.headers.get("content-type")||"string"===typeof a&&this.headers.set("content-type",
"text/plain;charset=UTF-8")};Object.defineProperty(this,"bodyUsed",{get:function(){return this._bodyUsed?!0:this.body?!!F(this.body):!1}});this.arrayBuffer=function(){return q(this).then(function(a){return a.buffer})};this.text=function(){return q(this).then(function(a){return 0===a.length?"":decodeURIComponent(escape(String.fromCharCode.apply(null,a)))})};this.json=function(){return this.text().then(JSON.parse)};return this}function m(a,b){b=b||{};var c=b.body;if(a instanceof m){if(a.bodyUsed)throw new g("Request body already read");
this.url=a.url;this.credentials=a.credentials;b.headers||(this.headers=new d(a.headers));this.method=a.method;this.mode=a.mode;c||null===a.body||(c=a.body,a._bodyUsed=!0)}else this.url=String(a);this.credentials=b.credentials||this.credentials||"omit";if(b.headers||!this.headers)this.headers=new d(b.headers);a=b.method||this.method||"GET";var f=a.toUpperCase();this.method=-1<G.indexOf(f)?f:a;this.mode=b.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&c)throw new g("Body not allowed for GET or HEAD requests");
this._initBody(c)}function H(a){var b=new d;a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":");if(a=c.shift().trim())c=c.join(":").trim(),b.append(a,c)});return b}function k(a,b){b||(b={});this.type="default";this.status="status"in b?b.status:200;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in b?b.statusText:"OK";this.headers=new d(b.headers);this.url=b.url||"";this._initBody(a)}if(!e.fetch){var n=e.Array,x=e.ArrayBuffer,I=e.Symbol.iterator,
p=e.Map,J=e.RangeError,g=e.TypeError,h=e.Uint8Array,u=e.Promise,r=u.reject,A=u.resolve,t=e.ReadableStream,z=e.ReadableStreamTee,F=e.IsReadableStreamDisturbed,B=e.IsReadableStreamLocked,K="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),E=x.isView||function(a){return a&&-1<K.indexOf(Object.prototype.toString.call(a))};d.prototype.append=function(a,
b){if(2!==arguments.length)throw g("Invalid parameters to append");a=l(a);b=v(b);this.map.has(a)?this.map.set(a,this.map.get(a)+", "+b):this.map.set(a,b)};d.prototype["delete"]=function(a){if(1!==arguments.length)throw g("Invalid parameters to delete");this.map.delete(l(a))};d.prototype.get=function(a){if(1!==arguments.length)throw g("Invalid parameters to get");a=l(a);var b=this.map.get(a);return void 0!==b?b:null};d.prototype.has=function(a){if(1!==arguments.length)throw g("Invalid parameters to has");
return this.map.has(l(a))};d.prototype.set=function(a,b){if(2!==arguments.length)throw g("Invalid parameters to set");this.map.set(l(a),v(b))};d.prototype.forEach=function(a,b){var c=this;n.from(this.map.entries()).sort().forEach(function(f){a.call(b,f[1],f[0],c)})};d.prototype.keys=function(){return(new p(n.from(this.map.entries()).sort())).keys()};d.prototype.values=function(){return(new p(n.from(this.map.entries()).sort())).values()};d.prototype.entries=function(){return(new p(n.from(this.map.entries()).sort())).entries()};
d.prototype[I]=d.prototype.entries;var G="DELETE GET HEAD OPTIONS POST PUT".split(" ");m.prototype.clone=function(){var a=null;null!==this.body&&(a=z(this.body,!0),this.body=a[0],a=a[1]);return new m(this,{body:a})};y.call(m.prototype);y.call(k.prototype);k.prototype.clone=function(){var a=null;null!==this.body&&(a=z(this.body,!0),this.body=a[0],a=a[1]);return new k(a,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})};k.error=function(){var a=new k(null,{status:0,
statusText:""});a.type="error";return a};var L=[301,302,303,307,308];k.redirect=function(a,b){if(-1===L.indexOf(b))throw new J("Invalid status code");return new k(null,{status:b,headers:{location:a}})};e.Headers=d;e.Request=m;e.Response=k;e.fetch=function(a,b){return new u(function(c,f){var e=new m(a,b),d=new XMLHttpRequest,h=null,l=new t({start:function(a){h=a},cancel:function(a){d.abort()}});d.onload=function(){w(h,d.response,"Unhandled response type");h.close()};d.onreadystatechange=function(){if(d.readyState===
d.HEADERS_RECEIVED){var a={status:d.status,statusText:d.statusText,headers:H(d.getAllResponseHeaders()||"")};a.url="responseURL"in d?d.responseURL:a.headers.get("X-Request-URL");c(new k(l,a))}};d.onerror=function(){h.error(new g("Network request failed"));f(new g("Network request failed"))};d.ontimeout=function(){h.error(new g("Network request failed"));f(new g("Network request failed"))};d.open(e.method,e.url,!0);"include"===e.credentials&&(d.withCredentials=!0);e.headers.forEach(function(a,b){d.setRequestHeader(b,
a)});null===e.body?d.send(null):q(e).then(function(a){d.send(a)})})};e.fetch.polyfill=!0}})(this);